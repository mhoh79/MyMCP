# MCP Servers Configuration
# Copy this file to .env and customize for your deployment
# These environment variables are used by both local and Docker deployments

# ============================================================================
# QUICK START: Automated Setup
# ============================================================================
# Use the automated setup script to generate a secure API key:
#
#   PowerShell:
#   .\setup-api-key.ps1                    # Create .env with generated key
#   .\setup-api-key.ps1 -Method envvar     # Set Windows environment variable
#   .\setup-api-key.ps1 -Environment both  # Setup local + Codespaces
#
# Or manually copy this file and generate your own key:
#   cp .env.example .env
#   # Then edit .env with your own secure API key
#
# ============================================================================
# Authentication Configuration
# ============================================================================
# Enable/disable authentication for all API requests
MCP_AUTH_ENABLED=false

# API Key for authentication (minimum 16 characters)
# IMPORTANT: Generate a strong, unique key for production
# Methods to generate a secure key:
#   1. Use setup script:  .\setup-api-key.ps1
#   2. OpenSSL:           openssl rand -hex 32
#   3. Python:            python -c "import secrets; print(secrets.token_urlsafe(32))"
#   4. PowerShell:        -join ((1..32) | ForEach-Object { "{0:X2}" -f (Get-Random -Minimum 0 -Maximum 256) })
MCP_API_KEY=your-secure-api-key-here

# ============================================================================
# Server Configuration
# ============================================================================
# Math Server
MCP_MATH_HOST=0.0.0.0
MCP_MATH_PORT=8000

# Stats Server
MCP_STATS_HOST=0.0.0.0
MCP_STATS_PORT=8001

# ============================================================================
# Rate Limiting Configuration
# ============================================================================
# Enable/disable rate limiting
MCP_RATE_LIMIT_ENABLED=false

# Requests per minute per client
MCP_RATE_LIMIT_RPM=60

# ============================================================================
# Logging Configuration
# ============================================================================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
MCP_LOG_LEVEL=INFO

# ============================================================================
# Docker-Specific Configuration
# ============================================================================
# These settings are used when running with docker-compose

# Docker image tag (for custom builds)
# DOCKER_IMAGE_TAG=latest

# Enable Docker health checks
# DOCKER_HEALTHCHECK_ENABLED=true

# ============================================================================
# Production Deployment Settings
# ============================================================================
# For production deployments, set these variables:

# Authentication (REQUIRED for production)
# MCP_AUTH_ENABLED=true
# MCP_API_KEY=<generate-strong-key-here>

# Rate Limiting (RECOMMENDED for production)
# MCP_RATE_LIMIT_ENABLED=true
# MCP_RATE_LIMIT_RPM=120

# Logging (INFO or WARNING for production)
# MCP_LOG_LEVEL=INFO

# ============================================================================
# Security Best Practices
# ============================================================================
# 1. Generate a strong API key: openssl rand -hex 32
# 2. Never commit .env file to version control
# 3. Use different keys for dev/staging/production
# 4. Rotate keys regularly
# 5. Enable rate limiting in production
# 6. Use HTTPS in production (configured in nginx)
# 7. Monitor access logs for suspicious activity
# 8. Keep Docker images updated

# ============================================================================
# Example Production Configuration
# ============================================================================
# Uncomment and customize these for production:

# MCP_AUTH_ENABLED=true
# MCP_API_KEY=<your-generated-64-character-hex-key-here>
# MCP_RATE_LIMIT_ENABLED=true
# MCP_RATE_LIMIT_RPM=120
# MCP_LOG_LEVEL=INFO
